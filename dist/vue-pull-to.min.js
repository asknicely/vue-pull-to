!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VuePullTo=e():t.VuePullTo=e()}(window,function(){return n={},i.m=o=[function(t,e,o){var n=o(9);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,o(12).default)("56ca1821",n,!1,{})},function(t,e,o){var n=o(3),i=o(4),r=o(5),s=o(7);t.exports=function(t,e){return n(t)||i(t,e)||r(t,e)||s()}},function(e,t){function o(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=o=function(t){return typeof t}:e.exports=o=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}e.exports=o},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var o=[],n=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(o.push(s.value),!e||o.length!==e);n=!0);}catch(t){i=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return o}}},function(t,e,o){var n=o(6);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,o){"use strict";var n=o(0);o.n(n).a},function(t,e,o){(t.exports=o(10)(!1)).push([t.i,".vue-pull-to-wrapper[data-v-81faaf1a],\n.vue-pull-to-wrapper > .scroll-container[data-v-81faaf1a] {\n  padding: 0;\n  border: 0 none;\n  margin: 0;\n}\n.vue-pull-to-wrapper[data-v-81faaf1a] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n          flex-direction: column;\n  height: 100%;\n}\n.vue-pull-to-wrapper > .scroll-container[data-v-81faaf1a] {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n}\n.vue-pull-to-wrapper > .scroll-container > .bottom-filler[data-v-81faaf1a] {\n  height: 0px;\n}\n.vue-pull-to-wrapper > .action-block[data-v-81faaf1a] {\n  position: relative;\n  width: 100%;\n}\n.vue-pull-to-wrapper > .action-block > .default-text[data-v-81faaf1a] {\n  height: 100%;\n  line-height: 50px;\n  text-align: center;\n}\n.vue-pull-to-wrapper[data-v-81faaf1a],\n.vue-pull-to-wrapper > .action-block-bottom[data-v-81faaf1a],\n.vue-pull-to-wrapper > .scroll-container > .bottom-fill[data-v-81faaf1a] {\n  -webkit-transition-timing-function: cubic-bezier(0, 0, 0, 1);\n          transition-timing-function: cubic-bezier(0, 0, 0, 1);\n}\n",""])},function(t,e,o){"use strict";t.exports=function(o){var s=[];return s.toString=function(){return this.map(function(t){var e=function(t,e){var o=t[1]||"",n=t[3];if(!n)return o;if(e&&"function"==typeof btoa){var i=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(n),r=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[o].concat(r).concat([i]).join("\n")}return[o].join("\n")}(t,o);return t[2]?"@media "+t[2]+"{"+e+"}":e}).join("")},s.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},n=0;n<this.length;n++){var i=this[n][0];null!=i&&(o[i]=!0)}for(n=0;n<t.length;n++){var r=t[n];null!=r[0]&&o[r[0]]||(e&&!r[2]?r[2]=e:e&&(r[2]="("+r[2]+") and ("+e+")"),s.push(r))}},s}},function(t,e,o){"use strict";o.r(e);function n(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vue-pull-to-wrapper",style:{height:t.wrapperHeight},on:{transitionend:t.handleTransitionEnd}},[t.topLoadMethod?o("div",{ref:"action-block-top",staticClass:"action-block action-block-top",style:{height:t.topBlockHeight+"px",marginTop:-t.topBlockHeight+"px"}},[t._t("top-block",[o("p",{staticClass:"default-text"},[t._v(t._s(t.topText))])],{state:t.state,stateText:t.topText,triggerDistance:t._topConfig.triggerDistance,diff:t.diff})],2):t._e(),t._v(" "),o("div",{ref:"scroll-container",staticClass:"scroll-container"},[t._t("default"),t._v(" "),t.bottomLoadMethod&&t.isBottomKeepScroll?o("div",{ref:"bottom-filler",staticClass:"bottom-filler"}):t._e()],2),t._v(" "),t.bottomLoadMethod?o("div",{ref:"action-block-bottom",staticClass:"action-block action-block-bottom",style:{height:t.bottomBlockHeight+"px",marginBottom:-t.bottomBlockHeight+"px"}},[t._t("bottom-block",[o("p",{staticClass:"default-text"},[t._v(t._s(t.bottomText))])],{state:t.state,stateText:t.bottomText,triggerDistance:t._bottomConfig.triggerDistance,diff:t.diff})],2):t._e()])}n._withStripped=!0;var i=o(1),f=o.n(i),r=o(2),c=o.n(r);function s(n,i,t){var r=2<arguments.length&&void 0!==t?t:0;if(null==i)return n;var s,a="object"===("undefined"==typeof performance?"undefined":c()(performance))?performance:Date,l=null;return function(){var t,e,o=a.now();null!=l&&clearTimeout(l),s=s||o,0!==r&&r<=o-s?(n.apply(this,arguments),s=o):(t=this,e=Array.prototype.slice.call(arguments),l=setTimeout(function(){return l=null,n.apply(t,e)},i))}}var a=function(){var e=!1;try{window.addEventListener("test",t,{get passive(){return e=!0}}),window.removeEventListener("test",t)}catch(t){e=!1}return e&&{passive:!0};function t(){}}();function l(t,e){var o=Object.create(t);return Object.assign(o,e),o}var u={pullText:"下拉刷新",triggerText:"释放更新",loadingText:"加载中...",doneText:"加载完成",failText:"加载失败",loadedStayTime:400,stayDistance:50,triggerDistance:70},h={pullText:"上拉加载",triggerText:"释放更新",loadingText:"加载中...",doneText:"加载完成",failText:"加载失败",loadedStayTime:400,stayDistance:50,triggerDistance:70},d="loaded-";function p(t,e,o,n){t.setProperty("transition-property",e||""),t.setProperty("transition-duration",o||""),t.setProperty("transition-delay",n||"")}function v(t){return"string"==typeof t&&t.startsWith(d)}function m(t,e){switch(e){case"pull":return t.pullText;case"trigger":return t.triggerText;case"loading":return t.loadingText;case"loaded-done":return t.doneText;default:return v(e)?t.failText:""}}var g={name:"vue-pull-to",props:{distanceIndex:{type:Number,default:2},topBlockHeight:{type:Number,default:50},bottomBlockHeight:{type:Number,default:50},wrapperHeight:{type:String,default:"100%"},topLoadMethod:Function,bottomLoadMethod:Function,isThrottleTopPull:{type:Boolean,default:!0},isThrottleBottomPull:{type:Boolean,default:!0},isThrottleScroll:{type:Boolean,default:!0},isTouchSensitive:{type:Boolean,default:!0},isScrollSensitive:{type:Boolean,default:!0},isTopBounce:{type:Boolean,default:!0},isBottomBounce:{type:Boolean,default:!0},isBottomKeepScroll:Boolean,topConfig:Object,bottomConfig:Object},data:function(){return{startY:null,startX:null,distance:0,diff:0,beforeDiff:0,state:"",shouldPullDown:!1,shouldPullUp:!1,shouldPassThroughEvent:!1,throttleEmitTopPull:null,throttleEmitBottomPull:null,throttleEmitScroll:null,throttleOnInfiniteScroll:null}},computed:{_topConfig:function(){return l(u,this.topConfig)},_bottomConfig:function(){return l(h,this.bottomConfig)},direction:{cache:!1,get:function(){var t=this.distance;return 0<t?"down":t<0?"up":0}},topText:function(){return 0<this.distance?m(this._topConfig,this.state):""},bottomText:function(){return this.distance<0?m(this._bottomConfig,this.state):""}},watch:{state:function(o){var n=this,t=this.distance,e=0<t?"top-state-change":"bottom-state-change";if(this.$emit(e,o),"string"==typeof o&&""!==o)if("loading"===o){var i=function(t){var e=d+(0<arguments.length&&void 0!==t?t:"done");n.state=e,o=null};if(0<t?this.topLoadMethod(i):this.bottomLoadMethod(i),null===o)return;0<t?this.scrollTo(this._topConfig.stayDistance):this.scrollTo(-this._bottomConfig.stayDistance)}else if(v(o)&&null==this.startY){var r=0<t?this._topConfig:this._bottomConfig,s=this.$refs["bottom-filler"];if(s&&!(0<t)){var a=this.$refs["action-block-bottom"],l=this.diff;if(null!=a&&l<0){this.scrollTo(0,0);var c=a.style;c.setProperty("transform","translate(0, ".concat(l,"px)"));var u=s.style;u.setProperty("height","".concat(-l,"px")),this.$refs["scroll-container"].scrollTop-=l;var f="".concat(r.loadedStayTime,"ms");return p(c,"transform","200ms",f),p(u,"height","200ms",f),c.setProperty("transform","translate(0, 0)"),void u.setProperty("height","0px")}}this.scrollTo(0,200,r.loadedStayTime)}},isTouchSensitive:"updateTouchSensitivity",isScrollSensitive:"updateScrollSensitivity"},methods:{scrollTo:function(t,e,o){var n=1<arguments.length&&void 0!==e?e:200,i=2<arguments.length&&void 0!==o?o:0;this.diff=t;var r,s=this.$refs["action-block-bottom"];null==s||(r=s.style).getPropertyValue("transform")&&(p(r,"none"),r.setProperty("transform",""));var a,l=this.$refs["bottom-filler"];null==l||(a=l.style).getPropertyValue("height")&&(p(a,"none"),a.setProperty("height",""));var c=this.$el.style;p(c,0<n||0<i?"transform":"none","".concat(n,"ms"),"".concat(i,"ms")),c.setProperty("transform",0===t?"none":"translate(0, ".concat(t,"px)"))},checkBottomReached:function(){var t=this.$refs["scroll-container"];return t.scrollTop+t.offsetHeight+1>=t.scrollHeight},handleTouchStart:function(t){var e=f()(t.touches,1)[0];this.startY=e.clientY,this.startX=e.clientX,this.beforeDiff=this.diff;var o=this.$refs["scroll-container"];this.shouldPullDown=this.isTopBounce&&0===o.scrollTop,this.shouldPullUp=this.isBottomBounce&&this.checkBottomReached(),this.shouldPassThroughEvent=!1},handleTouchMove:function(t){var e=f()(t.touches,1)[0],o=e.clientY,n=e.clientX,i=this.startY,r=this.startX,s=(o-i)/this.distanceIndex+this.beforeDiff,a=this.state;"loading"!==a||0<s*this.distance||(s=s<0?3e-308:-3e-308),this.distance=s;var l,c=this.shouldPassThroughEvent;if(Math.abs(o-i)<Math.abs(n-r)&&(this.shouldPassThroughEvent=c=!0),0<s?this.shouldPullDown:this.shouldPullUp){if(c||(t.preventDefault(),t.stopPropagation()),this.scrollTo(s,0),0<s){if(this.isThrottleTopPull?this.throttleEmitTopPull(this.diff):this.$emit("top-pull",this.diff),"function"!=typeof this.topLoadMethod)return;l=this._topConfig}else{if(this.isThrottleBottomPull?this.throttleEmitBottomPull(this.diff):this.$emit("bottom-pull",this.diff),"function"!=typeof this.bottomLoadMethod)return;l=this._bottomConfig}var u=Math.abs(s)<l.triggerDistance?"pull":"trigger";"loading"!==a&&a!==u&&(this.state=u)}else this.scrollTo(0,0)},handleTouchEnd:function(){if(this.startX=this.startY=null,this.diff)switch(this.state){case"trigger":this.state="loading";break;case"loading":this.scrollTo(this.beforeDiff);break;default:this.state="",this.scrollTo(0)}},handleScroll:function(t){this.isThrottleScroll?this.throttleEmitScroll(t):this.$emit("scroll",t),this.throttleOnInfiniteScroll()},handleTransitionEnd:function(){v(this.state)&&(this.state="")},bindEvents:function(){this.isTouchSensitive&&this.updateTouchSensitivity(!0),this.isScrollSensitive&&this.updateScrollSensitivity(!0)},updateTouchSensitivity:function(t){var e=this.$refs["scroll-container"];t?(e.addEventListener("touchstart",this.handleTouchStart,a),e.addEventListener("touchmove",this.handleTouchMove),e.addEventListener("touchend",this.handleTouchEnd,a)):(e.removeEventListener("touchstart",this.handleTouchStart),e.removeEventListener("touchmove",this.handleTouchMove),e.removeEventListener("touchend",this.handleTouchEnd))},updateScrollSensitivity:function(t){var e=this.$refs["scroll-container"];t?e.addEventListener("scroll",this.handleScroll,a):e.removeEventListener("scroll",this.handleScroll)},createThrottleMethods:function(){function t(t,e,o){var n=1<arguments.length&&void 0!==e?e:0,i=2<arguments.length?o:void 0;return s(r.$emit.bind(r,i),t,n)}var r=this;this.throttleEmitTopPull=t(200,300,"top-pull"),this.throttleEmitBottomPull=t(200,300,"bottom-pull"),this.throttleEmitScroll=t(100,150,"scroll"),this.throttleOnInfiniteScroll=s(function(){r.checkBottomReached()&&r.$emit("infinite-scroll")},400)},init:function(){this.createThrottleMethods(),this.bindEvents()}},mounted:function(){this.init()}};o(8);var b,y,T,x,S,_,w,C,E,P,B,k,M=(y=n,x=!(T=[]),_="81faaf1a",w=S=null,k="function"==typeof(b=g)?b.options:b,y&&(k.render=y,k.staticRenderFns=T,k._compiled=!0),x&&(k.functional=!0),_&&(k._scopeId="data-v-"+_),w?(E=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),S&&S.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(w)},k._ssrRegister=E):S&&(E=C?function(){S.call(this,(k.functional?this.parent:this).$root.$options.shadowRoot)}:S),E&&(k.functional?(k._injectStyles=E,P=k.render,k.render=function(t,e){return E.call(e),P(t,e)}):(B=k.beforeCreate,k.beforeCreate=B?[].concat(B,E):[E])),{exports:b,options:k});M.options.__file="src/vue-pull-to.vue";var j=M.exports;e.default=j},function(t,e,o){"use strict";function l(t,e){for(var o=[],n={},i=0;i<e.length;i++){var r=e[i],s=r[0],a={id:t+":"+i,css:r[1],media:r[2],sourceMap:r[3]};n[s]?n[s].parts.push(a):o.push(n[s]={id:s,parts:[a]})}return o}o.r(e),o.d(e,"default",function(){return p});var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c={},i=n&&(document.head||document.getElementsByTagName("head")[0]),r=null,s=0,u=!1,a=function(){},f=null,h="data-vue-ssr-id",d="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(s,t,e,o){u=e,f=o||{};var a=l(s,t);return v(a),function(t){for(var e=[],o=0;o<a.length;o++){var n=a[o];(i=c[n.id]).refs--,e.push(i)}t?v(a=l(s,t)):a=[];for(var i,o=0;o<e.length;o++){if(0===(i=e[o]).refs){for(var r=0;r<i.parts.length;r++)i.parts[r]();delete c[i.id]}}}}function v(t){for(var e=0;e<t.length;e++){var o=t[e],n=c[o.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](o.parts[i]);for(;i<o.parts.length;i++)n.parts.push(g(o.parts[i]));n.parts.length>o.parts.length&&(n.parts.length=o.parts.length)}else{for(var r=[],i=0;i<o.parts.length;i++)r.push(g(o.parts[i]));c[o.id]={id:o.id,refs:1,parts:r}}}}function m(){var t=document.createElement("style");return t.type="text/css",i.appendChild(t),t}function g(e){var t,o,n,i=document.querySelector("style["+h+'~="'+e.id+'"]');if(i){if(u)return a;i.parentNode.removeChild(i)}return n=d?(t=s++,i=r=r||m(),o=T.bind(null,i,t,!1),T.bind(null,i,t,!0)):(i=m(),o=function(t,e){var o=e.css,n=e.media,i=e.sourceMap;n&&t.setAttribute("media",n);f.ssrId&&t.setAttribute(h,e.id);i&&(o+="\n/*# sourceURL="+i.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");if(t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}.bind(null,i),function(){i.parentNode.removeChild(i)}),o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else n()}}var b,y=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function T(t,e,o,n){var i,r,s=o?"":n.css;t.styleSheet?t.styleSheet.cssText=y(e,s):(i=document.createTextNode(s),(r=t.childNodes)[e]&&t.removeChild(r[e]),r.length?t.insertBefore(i,r[e]):t.appendChild(i))}}],i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=11);function i(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var o,n});
//# sourceMappingURL=vue-pull-to.min.js.map
